## `~ladhut-docfyn`
Could it though? Forks only exist in spans, and the relevant spans just don't exist during macro expansion. Part of ++whip's job is the generation of code that leads to the *inference* of a suitable span. By the time you've generated that code, it's already too late to make decisions based on the span it induces. And you don't always know what span that might be,  because `%herb`s are opaque without a subject span to compile them against.